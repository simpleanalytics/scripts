/* Simple Analytics - Privacy friendly analytics (docs.simpleanalytics.com/script; 2021-11-15; 428a; v1) */

function e(){try{for(var t=document.getElementsByTagName("a"),e=0;e<t.length;e++){var o,a=t[e],n=!1;a.getAttribute("onclick")||(f.downloads&&/^https?:\/\//i.test(a.href)&&new RegExp(".("+(f.downloadsExtensions||[]).join("|")+")","i").test(a.pathname)?n="download":f.outbound&&/^https?:\/\//i.test(a.href)&&a.hostname!==c.location.hostname?n="outbound":f.emails&&/^mailto:/i.test(a.href)&&(n="email"),n&&(o="saAutomatedLink(this, '"+n+"');",a.hasAttribute("target")&&"_self"!==a.getAttribute("target")||(o+=" return false;"),a.setAttribute("onclick",o)))}}catch(r){m(r.message,"warn")}}var c,m,t,n,o,a,r,f;void 0!==(c=window)&&(m=function(t,e){return("warn"===e?console.warn:console.log)("Simple Analytics auto events:",t)},t=c.document,n=t.currentScript||t.querySelector('script[src*="auto-events.js"]'),a=(o=function(t,e,o){var a=n&&n.dataset[t];return"bool"!==e||"true"!==a&&"false"!==a?"bool"===e?o:"array"===e&&a?a.split(",").map(function(t){return t.trim()}).filter(Boolean):"array"===e?o:void 0:"true"===a})("collect","array",["outbound","emails","downloads"]),r=o("fullUrls","bool",!1),void 0===(f={outbound:-1<a.indexOf("outbound"),emails:-1<a.indexOf("emails"),downloads:-1<a.indexOf("downloads"),downloadsExtensions:o("extensions","array",["pdf","csv","docx","xlsx","zip","doc","xls"]),title:o("useTitle","bool",!0),outboundFullUrl:r,downloadsFullUrl:r})&&m("options object not found, please specify","warn"),c.saAutomatedLink=function(t,e){try{if(!t)return m("no element found");var o=!1,a=function(){o||t.hasAttribute("target")||(document.location=t.getAttribute("href")),o=!0};if(c.sa_event){var n,r=t.hostname,l=t.pathname,s=!1;if(f.title&&t.hasAttribute("title")&&(""!=(n=t.getAttribute("title").trim())&&(s=!0)),s)i=n;else switch(e){case"outbound":i=r+(f.outboundFullUrl?l:"");break;case"download":i=f.downloadsFullUrl?r+l:l.split("/").pop();break;case"email":var i=(t.getAttribute("href").split(":")[1]||"").split("?")[0]}var u=e+"_"+i.replace(/[^a-z0-9]+/gi,"_").replace(/(^_+|_+$)/g,"");return sa_event(u,a),m("collected "+u),c.setTimeout(a,5e3)}return m("sa_event is not defined","warn"),a()}catch(d){m(d.message,"warn")}},"ready"===t.readyState||"complete"===t.readyState?e():document.addEventListener("readystatechange",function(t){"complete"===t.target.readyState&&e()}));
//# sourceMappingURL=auto-events.js.map